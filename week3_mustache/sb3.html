<!DOCTYPE html>
<html lang="en">
<!--
	Chris McGuire
	CTEC 290 -API
	Skill Building 3
	Winter 18
-->

<head>
	<title>Week3 - Skill building 3</title>
	<meta charset="utf-8" />

	<!-- JQUERY -->
 	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

	<script>
		$('document').ready(function(){
			// object containing student information
			var students = {
				'results': [{
					'firstname': 'Mark',
					'lastname' :'Smith',
				 	'gpa': 3.8,
					'gender' : 'male',
					'degree_program': 'Pizza Delivery Certification', 
					'enrolled_courses': ['Driving', 'Making Pizza', 'Dough Prep'] 
				},{
					'firstname': 'Billy',
					'lastname' : 'Zoom',
					'gpa': 2.5,
					'gender': 'male',
					'degree_program': 'Moped Mechanic', 
					'enrolled_courses':['Moped Oil Change 1', 'Finding Old Parts', 'Moped Driving']
				},{
					'firstname': 'Ed',
					'lastname' : 'Davis',
					'gpa': 1.5,
					'gender': 'male',
					'degree_program': 'NBA Rebound Certification', 
					'enrolled_courses':['Weight Lifting 1', 'Weight Lifting 2', 'Passing 1 - What to do after you get the ball']
				},{
					'firstname': 'Claire',
					'lastname' : 'Howard',
					'gpa': 2.7,
					'gender': 'female',
					'degree_program': 'Astronaught', 
					'enrolled_courses':['Physics', 'Space Suite Fundamentals', 'Floating In Space 2']
				}]
			};
			
			// iterate through the properties of the results. Generate a string to display the information
			$.each(students.results, function(key, value){

				// get the length of the enroller_courses array and minus one so I can tell when the last iteration is
				var arrayLength = value.enrolled_courses.length -1 ;
				
				//interate through the courses array and build a string to display the results
				var courseDisplayString = '<p>';
				courseDisplayString += "Enrolled Courses: ";
				
				$.each(value.enrolled_courses, function(key, value){

					//use the value of the key to check if it is the last itereaton
					if(key != arrayLength){
						courseDisplayString += value;
						courseDisplayString += ', ';
					}else{
						courseDisplayString += value;
					};
				});
				courseDisplayString +='</p>';
				
				// build the display string
				var displayString = '<h2>First Name: ' + value.firstname +'</h2>' +
					'<h2>Last Name: ' + value.lastname + '</h2>' +
					'<p>GPA: '+ value.gpa + '</p>' +
					'<p>Gender: ' + value.gender + '</p>' +
					'<p>Degree Program: ' + value.degree_program + '</p>';
				displayString += courseDisplayString;

				// select the html element where the information is to be disaplayed. append the display string.
				$('#container').append(displayString);
			});
			


		}); //end document ready
	</script>
</head>
<body>
	<main>
		<div id="container">
		</div>
	</main>
</body>
</html>
